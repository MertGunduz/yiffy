<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>yiffy: src/yiffysearch/fetch.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">yiffy
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">the terminal interface for downloading images from e621.net</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_5d1ce5c2ebfd61763d8f5edf0b55fa27.html">yiffysearch</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">fetch.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Sends request to e621-e926 with the specified tags by user and outputs URLs.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../dc/d88/yiffy-search_8h_source.html">yiffy-search.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for fetch.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d89/fetch_8c__incl.png" border="0" usemap="#asrc_2yiffysearch_2fetch_8c" alt=""/></div>
<map name="asrc_2yiffysearch_2fetch_8c" id="asrc_2yiffysearch_2fetch_8c">
<area shape="rect" title="Sends request to e621&#45;e926 with the specified tags by user and outputs URLs." alt="" coords="267,5,432,32"/>
<area shape="rect" href="../../dc/d88/yiffy-search_8h.html" title="the general search and use header for yiffy" alt="" coords="294,80,405,107"/>
<area shape="rect" title=" " alt="" coords="92,244,159,271"/>
<area shape="rect" title=" " alt="" coords="26,162,97,189"/>
<area shape="rect" title=" " alt="" coords="243,244,314,271"/>
<area shape="rect" title=" " alt="" coords="308,162,391,189"/>
<area shape="rect" title=" " alt="" coords="415,162,489,189"/>
<area shape="rect" href="../../de/d35/yiffy-messages_8h.html" title="the message output header for yiffy" alt="" coords="121,155,284,196"/>
<area shape="rect" href="../../d5/d56/cjson_8h.html" title=" " alt="" coords="565,162,683,189"/>
<area shape="rect" title=" " alt="" coords="587,244,661,271"/>
</map>
</div>
</div>
<p><a href="../../d1/d14/fetch_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a263efd24d550124313df51247f07457a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d14/fetch_8c.html#a263efd24d550124313df51247f07457a">MAX_FILE_PATH</a>&#160;&#160;&#160;256</td></tr>
<tr class="memdesc:a263efd24d550124313df51247f07457a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro is used for the home directory file path size.  <a href="../../d1/d14/fetch_8c.html#a263efd24d550124313df51247f07457a">More...</a><br /></td></tr>
<tr class="separator:a263efd24d550124313df51247f07457a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4d796b98c583d49e83adabd74a63bf6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d14/fetch_8c.html#ad4d796b98c583d49e83adabd74a63bf6">MAX_BUFFER_SIZE</a>&#160;&#160;&#160;512</td></tr>
<tr class="memdesc:ad4d796b98c583d49e83adabd74a63bf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro is used to set the size of an array which reads the config file.  <a href="../../d1/d14/fetch_8c.html#ad4d796b98c583d49e83adabd74a63bf6">More...</a><br /></td></tr>
<tr class="separator:ad4d796b98c583d49e83adabd74a63bf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9b7f6d81297248bf0ad06d725c8cbb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d14/fetch_8c.html#aff9b7f6d81297248bf0ad06d725c8cbb">CONTENT_SIZE</a>&#160;&#160;&#160;262144</td></tr>
<tr class="memdesc:aff9b7f6d81297248bf0ad06d725c8cbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro is used to set the size of an array which reads the JSON file that comes as a response from the API.  <a href="../../d1/d14/fetch_8c.html#aff9b7f6d81297248bf0ad06d725c8cbb">More...</a><br /></td></tr>
<tr class="separator:aff9b7f6d81297248bf0ad06d725c8cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a396e718624937eb224c416888d762eed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d14/fetch_8c.html#a396e718624937eb224c416888d762eed">fetch</a> (char *tags, int page)</td></tr>
<tr class="memdesc:a396e718624937eb224c416888d762eed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the configuration file, sets the options and sends a request to e621-e926. After taking the response, it calls the output function to show the URLs to user.  <a href="../../d1/d14/fetch_8c.html#a396e718624937eb224c416888d762eed">More...</a><br /></td></tr>
<tr class="separator:a396e718624937eb224c416888d762eed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Sends request to e621-e926 with the specified tags by user and outputs URLs. </p>
<p>This file is used to send a request to the fetch data from API and output the post URLs. Fetch function is used to check the configuration files and send request to the API. After that it takes the response and checks if JSON file is in the right format. Output function is used to read and parse the JSON file. Also outputs the URLs to the terminal or redirected path.</p>
<dl class="section author"><dt>Author</dt><dd>Mehmet Mert Gunduz</dd></dl>
<dl class="section date"><dt>Date</dt><dd>21/07/2023 </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d1/d14/fetch_8c_source.html">fetch.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aff9b7f6d81297248bf0ad06d725c8cbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff9b7f6d81297248bf0ad06d725c8cbb">&#9670;&nbsp;</a></span>CONTENT_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONTENT_SIZE&#160;&#160;&#160;262144</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro is used to set the size of an array which reads the JSON file that comes as a response from the API. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d14/fetch_8c_source.html#l00017">17</a> of file <a class="el" href="../../d1/d14/fetch_8c_source.html">fetch.c</a>.</p>

</div>
</div>
<a id="ad4d796b98c583d49e83adabd74a63bf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4d796b98c583d49e83adabd74a63bf6">&#9670;&nbsp;</a></span>MAX_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_BUFFER_SIZE&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro is used to set the size of an array which reads the config file. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d14/fetch_8c_source.html#l00016">16</a> of file <a class="el" href="../../d1/d14/fetch_8c_source.html">fetch.c</a>.</p>

</div>
</div>
<a id="a263efd24d550124313df51247f07457a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a263efd24d550124313df51247f07457a">&#9670;&nbsp;</a></span>MAX_FILE_PATH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_FILE_PATH&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro is used for the home directory file path size. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d14/fetch_8c_source.html#l00015">15</a> of file <a class="el" href="../../d1/d14/fetch_8c_source.html">fetch.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a396e718624937eb224c416888d762eed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a396e718624937eb224c416888d762eed">&#9670;&nbsp;</a></span>fetch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fetch </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>tags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the configuration file, sets the options and sends a request to e621-e926. After taking the response, it calls the output function to show the URLs to user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tags</td><td>These are the e621-e926 tags prompted by the user as an argument value. Example: yiffy &ndash;fetch "anthro+fur+male+smile". </td></tr>
    <tr><td class="paramname">page</td><td>This is the value that is passed to the API to get results from the specified pages. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d14/fetch_8c_source.html#l00031">31</a> of file <a class="el" href="../../d1/d14/fetch_8c_source.html">fetch.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
