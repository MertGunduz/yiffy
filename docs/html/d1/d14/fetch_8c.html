<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>yiffy: src/fetch/fetch.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/png" href="../../img/yiffy_small_logo.png"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="../../toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/MertGunduz/yiffy" class="github-corner" title="View source on GitHub" target="_blank" rel="noopener noreferrer">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../yiffy_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">yiffy
   &#160;<span id="projectnumber"><b>v1.0.0</b></span>
   </div>
   <div id="projectbrief">e621/e926 tui interface</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d1/d14/fetch_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">fetch.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file is used to send requests to e621-e926 with the specified tags by user and outputs or outputs-downloads URLs.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d5/d05/yiffy__fetch_8h_source.html">yiffy_fetch.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for fetch.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d89/fetch_8c__incl.png" border="0" usemap="#asrc_2fetch_2fetch_8c" alt=""/></div>
<map name="asrc_2fetch_2fetch_8c" id="asrc_2fetch_2fetch_8c">
<area shape="rect" title="This file is used to send requests to e621&#45;e926 with the specified tags by user and outputs or output..." alt="" coords="331,5,457,32"/>
<area shape="rect" href="../../d5/d05/yiffy__fetch_8h.html" title=" " alt="" coords="343,80,445,107"/>
<area shape="rect" title=" " alt="" coords="5,155,76,181"/>
<area shape="rect" title=" " alt="" coords="340,229,411,256"/>
<area shape="rect" title=" " alt="" coords="151,155,234,181"/>
<area shape="rect" title=" " alt="" coords="258,155,333,181"/>
<area shape="rect" title=" " alt="" coords="357,155,431,181"/>
<area shape="rect" title=" " alt="" coords="455,155,525,181"/>
<area shape="rect" title=" " alt="" coords="550,155,614,181"/>
<area shape="rect" href="../../d0/de2/yiffy__messages_8h.html" title="This file is used to handle error and information messages." alt="" coords="639,155,819,181"/>
<area shape="rect" href="../../d5/d56/cjson_8h.html" title="This file is used as a header file for the cjson.c, used for JSON processes in requests,..." alt="" coords="843,155,961,181"/>
<area shape="rect" title=" " alt="" coords="695,229,762,256"/>
<area shape="rect" title=" " alt="" coords="865,229,939,256"/>
</map>
</div>
</div>
<p><a href="../../d1/d14/fetch_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a263efd24d550124313df51247f07457a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d14/fetch_8c.html#a263efd24d550124313df51247f07457a">MAX_FILE_PATH</a>&#160;&#160;&#160;256</td></tr>
<tr class="memdesc:a263efd24d550124313df51247f07457a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro is used to set the default size for getting the home directory file.  <a href="../../d1/d14/fetch_8c.html#a263efd24d550124313df51247f07457a">More...</a><br /></td></tr>
<tr class="separator:a263efd24d550124313df51247f07457a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4d796b98c583d49e83adabd74a63bf6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d14/fetch_8c.html#ad4d796b98c583d49e83adabd74a63bf6">MAX_BUFFER_SIZE</a>&#160;&#160;&#160;512</td></tr>
<tr class="memdesc:ad4d796b98c583d49e83adabd74a63bf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro is used to set the default size for reading the config file.  <a href="../../d1/d14/fetch_8c.html#ad4d796b98c583d49e83adabd74a63bf6">More...</a><br /></td></tr>
<tr class="separator:ad4d796b98c583d49e83adabd74a63bf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9b7f6d81297248bf0ad06d725c8cbb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d14/fetch_8c.html#aff9b7f6d81297248bf0ad06d725c8cbb">CONTENT_SIZE</a>&#160;&#160;&#160;262144</td></tr>
<tr class="memdesc:aff9b7f6d81297248bf0ad06d725c8cbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro is used to set the default size for reading the JSON file that comes as a response from the API.  <a href="../../d1/d14/fetch_8c.html#aff9b7f6d81297248bf0ad06d725c8cbb">More...</a><br /></td></tr>
<tr class="separator:aff9b7f6d81297248bf0ad06d725c8cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a41f382b6bd05c9776641fb4bc5024afa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d14/fetch_8c.html#a41f382b6bd05c9776641fb4bc5024afa">fetch</a> (char *tags, int page, char *command)</td></tr>
<tr class="memdesc:a41f382b6bd05c9776641fb4bc5024afa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the configuration file, sets the options and sends a request to e621-e926. After taking the response, it calls the output function to show the URLs.  <a href="../../d1/d14/fetch_8c.html#a41f382b6bd05c9776641fb4bc5024afa">More...</a><br /></td></tr>
<tr class="separator:a41f382b6bd05c9776641fb4bc5024afa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This file is used to send requests to e621-e926 with the specified tags by user and outputs or outputs-downloads URLs. </p>
<p >This file is used to send a request to the fetch data from API and output the post URLs. Fetch function is used to check the configuration files and send request to the API. After that it takes the response and checks if JSON file is in the right format. Output function is used to read and parse the JSON file. Also outputs the URLs to the terminal or redirected path.</p>
<dl class="section author"><dt>Author</dt><dd>Mehmet Mert Gunduz (<a href="#" onclick="location.href='mai'+'lto:'+'mer'+'tt'+'gg@'+'gm'+'ail'+'.c'+'om'; return false;">mertt<span class="obfuscator">.nosp@m.</span>gg@g<span class="obfuscator">.nosp@m.</span>mail.<span class="obfuscator">.nosp@m.</span>com</a>)</dd></dl>
<dl class="section date"><dt>Date</dt><dd>21/07/2023 </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d1/d14/fetch_8c_source.html">fetch.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aff9b7f6d81297248bf0ad06d725c8cbb" name="aff9b7f6d81297248bf0ad06d725c8cbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff9b7f6d81297248bf0ad06d725c8cbb">&#9670;&nbsp;</a></span>CONTENT_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONTENT_SIZE&#160;&#160;&#160;262144</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro is used to set the default size for reading the JSON file that comes as a response from the API. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d14/fetch_8c_source.html#l00017">17</a> of file <a class="el" href="../../d1/d14/fetch_8c_source.html">fetch.c</a>.</p>

</div>
</div>
<a id="ad4d796b98c583d49e83adabd74a63bf6" name="ad4d796b98c583d49e83adabd74a63bf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4d796b98c583d49e83adabd74a63bf6">&#9670;&nbsp;</a></span>MAX_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_BUFFER_SIZE&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro is used to set the default size for reading the config file. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d14/fetch_8c_source.html#l00016">16</a> of file <a class="el" href="../../d1/d14/fetch_8c_source.html">fetch.c</a>.</p>

</div>
</div>
<a id="a263efd24d550124313df51247f07457a" name="a263efd24d550124313df51247f07457a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a263efd24d550124313df51247f07457a">&#9670;&nbsp;</a></span>MAX_FILE_PATH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_FILE_PATH&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro is used to set the default size for getting the home directory file. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d14/fetch_8c_source.html#l00015">15</a> of file <a class="el" href="../../d1/d14/fetch_8c_source.html">fetch.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a41f382b6bd05c9776641fb4bc5024afa" name="a41f382b6bd05c9776641fb4bc5024afa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41f382b6bd05c9776641fb4bc5024afa">&#9670;&nbsp;</a></span>fetch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fetch </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>tags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the configuration file, sets the options and sends a request to e621-e926. After taking the response, it calls the output function to show the URLs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tags</td><td>These are the e621-e926 tags prompted by the user as an argument value. Example: yiffy &ndash;fetch "anthro+fur+male+smile". </td></tr>
    <tr><td class="paramname">page</td><td>This is the value that is passed to the API to get results from the specified pages. </td></tr>
    <tr><td class="paramname">command</td><td>This is the value that checks if to output or output-download the URLs. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d14/fetch_8c_source.html#l00032">32</a> of file <a class="el" href="../../d1/d14/fetch_8c_source.html">fetch.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_677e3bc52e02299a33df1d2c0e43d3b1.html">fetch</a></li><li class="navelem"><a class="el" href="../../d1/d14/fetch_8c.html">fetch.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
